/**
 * angular-dictate
 * @version v1.4.1 (2015-07-14)
 * @link https://github.com/softilabs/angular-dictate
 * @author Beno√Æt Bourgeois <ben.bourgeois@softilabs.com> (https://github.com/softilabs)
 * @license MIT
 */
angular.module("softilabs.ngDictate.cachedEntities",[]).factory("$dictateCachedEntities",function(){return{}}),angular.module("softilabs.ngDictate.cachedRepositories",[]).factory("$dictateCachedRepositories",function(){return{}}),angular.module("softilabs.ngDictate.core",[]).factory("$dictateCore",function(e,n,t,i,a,r,o,u){return function(s){return angular.copy(s.mapping,a),angular.forEach(a,function(i,a){u.get(a)||u.set(a,{}),t[a]=u.get(a),r[a]=o(a),e[a]={},n[a]=o(a,!0)}),{getManager:function(){return i},wipe:function(){angular.forEach(a,function(e,n){u.set(n,{}),t[n]={}})}}}}),angular.module("softilabs.ngDictate.entity",[]).factory("$dictateEntity",function(e,n,t,i,a){var r=function(i,r){var o=this;Object.defineProperty(o,"_name",{get:function(){return i}}),Object.defineProperty(o,"_uid",{get:function(){return r}}),angular.forEach(a[i],function(e,a){switch(a){case"hasOne":angular.forEach(e,function(e){var t=n[e],i=e+"#";Object.defineProperty(o,e,{get:function(){return o[i]?t.findOneBy(function(e){return e._uid==o[i]}):void 0},set:function(e){o[i]=e._uid}})});break;case"hasMany":angular.forEach(e,function(e){Object.defineProperty(o,e,{get:function(){e=t.singularize(e);var a=n[e];return a.findBy(function(e){return e[i+"#"]==r})}})}),Object.defineProperty(o,"add",{get:function(){return function(e){e[i+"#"]=r}}}),Object.defineProperty(o,"remove",{get:function(){return function(e){delete e[i+"#"]}}})}}),e[i][r]=o};return r}),angular.module("softilabs.ngDictate.inflector",[]).factory("$dictateInflector",function(){var e={plural:[[/move$/i,"moves"],[/sex$/i,"sexes"],[/child$/i,"children"],[/man$/i,"men"],[/foot$/i,"feet"],[/person$/i,"people"],[/taxon$/i,"taxa"],[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/(m|l)ouse$/i,"$1ice"],[/(matr|vert|ind|suff)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti]|addend)um$/i,"$1a"],[/(alumn|formul)a$/i,"$1ae"],[/(buffal|tomat|her)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(gen)us$/i,"$1era"],[/(ax|test)is$/i,"$1es"],[/s$/i,"s"],[/$/,"s"]],singular:[[/cookies$/i,"cookie"],[/moves$/i,"move"],[/sexes$/i,"sex"],[/children$/i,"child"],[/men$/i,"man"],[/feet$/i,"foot"],[/people$/i,"person"],[/taxa$/i,"taxon"],[/databases$/i,"database"],[/(quiz)zes$/i,"$1"],[/(matr|suff)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(tomato|hero|buffalo)es$/i,"$1"],[/([octop|vir])i$/i,"$1us"],[/(gen)era$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1sis"],[/([ti]|addend)a$/i,"$1um"],[/(alumn|formul)ae$/i,"$1a"],[/(n)ews$/i,"$1ews"],[/(.*)s$/i,"$1"]],countable:["aircraft","cannon","deer","equipment","fish","information","money","moose","rice","series","sheep","species","swine"]};return{pluralize:function(n){var t=n;return e.plural.some(function(e){return e[0].test(n)?t=n.replace(e[0],e[1]):void 0}),e.countable.some(function(e){return n==e?t=e:void 0}),t},singularize:function(n){var t=n;return e.singular.some(function(e){return e[0].test(n)?t=n.replace(e[0],e[1]):void 0}),e.countable.some(function(e){return n==e?t=e:void 0}),t},isSingular:function(e){return this.singularize(this.pluralize(e)).toLowerCase()==e.toLowerCase()},isPlural:function(e){return this.pluralize(this.singularize(e)).toLowerCase()==e.toLowerCase()}}}),angular.module("softilabs.ngDictate.managedEntities",[]).factory("$dictateEntities",function(){return{}}),angular.module("softilabs.ngDictate.manager",[]).factory("$dictateManager",function(e,n,t,i,a,r){var o={clear:function(e){return e?void(n[e]=r.get(e)):void angular.forEach(t,function(e,t){n[t]=r.get(t)})},contains:function(e){return!!n[e._name][e._uid]},detach:function(e){u("detach",e),delete n[e._name][e._uid]},find:function(e,n){return i[e].find(n)},flush:function(e){return e?void r.set(e,n[e]):void angular.forEach(t,function(e,t){r.set(t,n[t])})},getRepository:function(e){return i[e]},merge:function(e){u("merge",e);var e=angular.copy(e);return n[e._name][e._uid]=e,e},"new":function(e,n){return i[e]["new"](n)},persist:function(e){u("persist",e),n[e._name][e._uid]=e},refresh:function(e){u("refresh",e),angular.copy(r.get(e._name)[e._uid],e)},remove:function(e){u("remove",e),delete n[e._name][e._uid]}},u=function(e,n){angular.forEach(t,function(t){angular.forEach(t,function(t,i){"cascade"==i&&(t.all&&angular.forEach(t.all,function(t){angular.isDefined(n[t])&&(n[t]._uid?o[e](n[t]):n[t].map(o[e]))}),t[e]&&angular.forEach(t[e],function(t){angular.isDefined(n[t])&&(n[t]._uid?o[e](n[t]):n[t].map(o[e]))}))})})};return o}),angular.module("softilabs.ngDictate.mapping",[]).factory("$dictateMapping",function(){return{}}),angular.module("softilabs.ngDictate",["softilabs.ngDictate.cachedEntities","softilabs.ngDictate.cachedRepositories","softilabs.ngDictate.core","softilabs.ngDictate.entity","softilabs.ngDictate.inflector","softilabs.ngDictate.managedEntities","softilabs.ngDictate.manager","softilabs.ngDictate.mapping","softilabs.ngDictate.repositories","softilabs.ngDictate.repository","softilabs.ngDictate.uid","LocalStorageModule"]).provider("$dictate",function(){var e={mapping:{}};return{setMapping:function(n){e.mapping=n},$get:function(n){return n(e)}}}),angular.module("softilabs.ngDictate.repositories",[]).factory("$dictateRepositories",function(){return{}}),angular.module("softilabs.ngDictate.repository",[]).factory("$dictateRepository",function(e,n,t,i,a,r){return function(i,o){var u=function(){return o?angular.extend(t[i],e[i]):t[i]},s=function(e,t){return e._uid?e:angular.extend(new n(i,t),e)};return{clear:function(){t[i]=r.get(i)},count:function(){return Object.keys(u()).length},find:function(e){return this.findOneBy(function(n){return n.id==e})},findBy:function(e){var n=[];return angular.forEach(u(),function(t,i){if("object"==typeof e){var a=!0;angular.forEach(e,function(e,n){t[n]!=e&&(a=!1)}),a&&n.push(s(t,i))}else"function"==typeof e?e(t)&&n.push(s(t,i)):n.push(s(t,i))}),n},findAll:function(){return this.findBy()},findOneBy:function(e){var n=this.findBy(e);return 1==n.length?n[0]:null},"new":function(e){return angular.extend(new n(i,a()),e||{})}}}}),angular.module("softilabs.ngDictate.uid",[]).factory("$dictateUid",function(){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0,t="x"==e?n:3&n|8;return t.toString(16)})}});